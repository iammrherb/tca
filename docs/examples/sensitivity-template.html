<div class="sensitivity-container">
  <div class="sidebar">
    <div class="parameter-card">
      <h3>Sensitivity Analysis Parameters</h3>
      <div class="input-group">
        <label for="param-variable">Variable to Analyze</label>
        <select id="param-variable" class="form-select">
          <option value="deviceCount">Device Count</option>
          <option value="legacyPercentage">Legacy Device Percentage</option>
          <option value="locationCount">Location Count</option>
          <option value="yearsToProject">Years to Project</option>
          <option value="hardwareCost">Hardware Cost Multiplier</option>
          <option value="licensingCost">Licensing Cost Multiplier</option>
          <option value="maintenanceCost">Maintenance Cost Multiplier</option>
          <option value="implementationCost">Implementation Cost Multiplier</option>
          <option value="fteCost">FTE Cost Multiplier</option>
          <option value="downtimeCost">Downtime Cost ($/hour)</option>
        </select>
      </div>
      <div class="input-group">
        <label for="param-vendor">Vendor to Analyze</label>
        <select id="param-vendor" class="form-select">
          <option value="all">All Vendors</option>
          <option value="cisco">Cisco ISE</option>
          <option value="aruba">Aruba ClearPass</option>
          <option value="forescout">Forescout</option>
          <option value="nps">Microsoft NPS</option>
          <option value="fortinac">FortiNAC</option>
          <option value="securew2">SecureW2</option>
          <option value="portnox">Portnox Cloud</option>
        </select>
      </div>
      <div class="options-grid">
        <div class="input-group">
          <label for="param-min">Minimum Value</label>
          <input type="number" id="param-min" value="500" step="any">
        </div>
        <div class="input-group">
          <label for="param-max">Maximum Value</label>
          <input type="number" id="param-max" value="5000" step="any">
        </div>
      </div>
      <div class="input-group">
        <label for="param-steps">Number of Steps</label>
        <input type="number" id="param-steps" value="10" min="2" max="20">
      </div>
      <div class="input-group checkbox-group">
        <input type="checkbox" id="include-breakeven" checked>
        <label for="include-breakeven">Calculate Breakeven Points</label>
      </div>
      <div class="input-group checkbox-group">
        <input type="checkbox" id="compare-to-no-nac">
        <label for="compare-to-no-nac">Compare to No NAC Scenario</label>
      </div>
      <p id="parameter-description" class="parameter-description">
        Analyze how changes in the total number of devices affect TCO and relative savings. More devices typically increase hardware and licensing costs for on-premises solutions.
      </p>
      <button id="sensitivity-btn" class="btn btn-primary">Run Sensitivity Analysis</button>
    </div>
    
    <div class="instructions-card">
      <h3>How to Use This Tool</h3>
      <ol>
        <li>Select the variable you want to analyze</li>
        <li>Choose which vendor(s) to include in analysis</li>
        <li>Set minimum and maximum values to test</li>
        <li>Specify how many data points to calculate</li>
        <li>Click "Run Analysis" to see results</li>
      </ol>
      <p>This analysis helps you understand how sensitive your TCO calculation is to changes in key parameters, providing insights for decision making under uncertainty.</p>
    </div>
    
    <div class="scenario-controls">
      <button id="add-scenario-btn" class="btn btn-outline">
        <i class="fas fa-save"></i> Save Current Analysis
      </button>
      <button id="clear-scenarios-btn" class="btn btn-outline">
        <i class="fas fa-trash"></i> Clear All Scenarios
      </button>
    </div>
    
    <div id="scenarios-container" class="hidden">
      <!-- Scenarios will be added here by JavaScript -->
    </div>
  </div>

  <div class="results-container">
    <h3>Sensitivity Analysis Results</h3>
    
    <div class="export-options">
      <button id="export-sensitivity-csv-btn" class="btn btn-outline">
        <i class="fas fa-file-csv"></i> Export to CSV
      </button>
      <button id="export-sensitivity-pdf-btn" class="btn btn-outline">
        <i class="fas fa-file-pdf"></i> Export to PDF
      </button>
    </div>
    
    <div class="result-card">
      <h3>TCO Sensitivity Chart</h3>
      <div class="chart-container">
        <canvas id="sensitivity-chart"></canvas>
      </div>
    </div>
    
    <div class="result-card">
      <h3>Savings Impact Chart</h3>
      <div class="chart-container">
        <canvas id="savings-impact-chart"></canvas>
      </div>
    </div>
    
    <div id="breakeven-container" class="hidden">
      <!-- Breakeven analysis will be added here by JavaScript -->
    </div>
    
    <div class="result-card">
      <h3>Detailed Analysis Data</h3>
      <div class="table-container">
        <table class="data-table">
          <thead>
            <tr id="sensitivity-table-header">
              <th scope="col">Parameter</th>
            </tr>
          </thead>
          <tbody id="sensitivity-table-body">
            <!-- Table rows will be populated by JavaScript -->
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
